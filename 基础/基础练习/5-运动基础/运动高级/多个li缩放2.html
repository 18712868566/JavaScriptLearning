<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<style>
* {margin:0; padding:0;}
#ul1 {width:366px; margin:100px auto; position:relative;}
#ul1 li {list-style:none; width:100px; height:100px; background:#CCC; border:1px solid black; float:left; margin:10px;z-index: 1;}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<script src="startMove3.js"></script>
<script>

</script>
</head>

<body>
<h1>移入移除抖动问题</h1>
<ul id="ul1">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
</ul>
</body>

<script type="text/javascript">
window.onload =function(){
    // 布局转换
    var oUl = document.getElementById('ul1');
    var aLi = oUl.getElementsByTagName('li');
    var zMinIndex = 2;

    for (var i = 0; i < aLi.length; i++) {

        // aLi[i].innerHTML = 'left: '+aLi[i].offsetLeft +'; top:'+ aLi[i].offsetTop;
        // 我们可以根据他当前的位置 转换为绝对定位

        aLi[i].style.left = aLi[i].offsetLeft+'px';
        aLi[i].style.top = aLi[i].offsetTop+'px';

        // aLi[i].style.position = 'absolute'  // 重叠到一起了
    }


    for (var i = 0; i < aLi.length; i++) {
        aLi[i].style.position = 'absolute';
        // 设置absolute 后 margin 对当前位置 有影响
        aLi[i].style.margin = '0';

        aLi[i].onmouseover = function(){
            this.style.zIndex = zMinIndex++;
            // console.log(zMinIndex)
            startMove(this,{width:'200',height:'200',marginLeft:'-50',marginTop:'-50'})
        }
        aLi[i].onmouseout = function(){
            startMove(this,{width:'100',height:'100',marginLeft:'0',marginTop:'0'})
        }
    }



}
</script>
</html>
